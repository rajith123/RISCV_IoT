;buildInfoPackage: chisel3, version: 3.0-SNAPSHOT, scalaVersion: 2.11.7, sbtVersion: 0.13.11, builtAtString: 2016-12-12 22:28:40.596, builtAtMillis: 1481581720596
circuit OnChipMemory : 
  module OnChipMemory : 
    input clock : Clock
    input reset : UInt<1>
    output io : {flip port : {req : {flip ready : UInt<1>, valid : UInt<1>, bits : {addr : UInt<32>, data : UInt<32>, fcn : UInt<1>, typ : UInt<3>}}, flip resp : {valid : UInt<1>, bits : {data : UInt<32>}}}[2]}
    
    io is invalid
    io is invalid
    cmem chipMem : UInt<8>[4][8192]
    reg _T_191 : UInt<1>, clock @[memory.scala 62:45]
    _T_191 <= io.port[0].req.valid @[memory.scala 62:45]
    io.port[0].resp.valid <= _T_191 @[memory.scala 62:39]
    io.port[0].req.ready <= UInt<1>("h01") @[memory.scala 64:38]
    node _T_193 = bits(io.port[0].req.bits.addr, 1, 0) @[memory.scala 71:62]
    node _T_195 = cat(_T_193, UInt<3>("h00")) @[Cat.scala 30:58]
    reg _T_197 : UInt, clock @[memory.scala 75:37]
    node _T_199 = dshr(io.port[0].req.bits.addr, UInt<2>("h02")) @[memory.scala 77:44]
    wire _T_203 : UInt<8>[4] @[memory.scala 78:39]
    _T_203 is invalid @[memory.scala 78:39]
    wire _T_206 : UInt @[memory.scala 79:39]
    _T_206 is invalid @[memory.scala 79:39]
    node _T_207 = bits(_T_199, 12, 0)
    read mport _T_208 = chipMem[_T_207], clock
    _T_203[0] <= _T_208[0] @[memory.scala 88:36]
    _T_203[1] <= _T_208[1] @[memory.scala 88:36]
    _T_203[2] <= _T_208[2] @[memory.scala 88:36]
    _T_203[3] <= _T_208[3] @[memory.scala 88:36]
    node _T_210 = cat(_T_203[1], _T_203[0]) @[memory.scala 90:62]
    node _T_211 = cat(_T_203[3], _T_203[2]) @[memory.scala 90:62]
    node _T_212 = cat(_T_211, _T_210) @[memory.scala 90:62]
    node _T_213 = dshr(_T_212, _T_195) @[memory.scala 90:69]
    node _T_225 = eq(io.port[0].req.bits.typ, UInt<3>("h02")) @[memory.scala 165:49]
    node _T_226 = bits(_T_213, 15, 15) @[memory.scala 165:76]
    node _T_227 = bits(_T_226, 0, 0) @[Bitwise.scala 71:15]
    node _T_230 = mux(_T_227, UInt<16>("h0ffff"), UInt<16>("h00")) @[Bitwise.scala 71:12]
    node _T_231 = bits(_T_213, 15, 0) @[memory.scala 165:88]
    node _T_232 = cat(_T_230, _T_231) @[Cat.scala 30:58]
    node _T_233 = eq(io.port[0].req.bits.typ, UInt<3>("h06")) @[memory.scala 166:49]
    node _T_238 = mux(UInt<1>("h00"), UInt<16>("h0ffff"), UInt<16>("h00")) @[Bitwise.scala 71:12]
    node _T_239 = bits(_T_213, 15, 0) @[memory.scala 166:88]
    node _T_240 = cat(_T_238, _T_239) @[Cat.scala 30:58]
    node _T_241 = eq(io.port[0].req.bits.typ, UInt<3>("h01")) @[memory.scala 167:49]
    node _T_242 = bits(_T_213, 7, 7) @[memory.scala 167:76]
    node _T_243 = bits(_T_242, 0, 0) @[Bitwise.scala 71:15]
    node _T_246 = mux(_T_243, UInt<24>("h0ffffff"), UInt<24>("h00")) @[Bitwise.scala 71:12]
    node _T_247 = bits(_T_213, 7, 0) @[memory.scala 167:88]
    node _T_248 = cat(_T_246, _T_247) @[Cat.scala 30:58]
    node _T_249 = eq(io.port[0].req.bits.typ, UInt<3>("h05")) @[memory.scala 168:49]
    node _T_254 = mux(UInt<1>("h00"), UInt<24>("h0ffffff"), UInt<24>("h00")) @[Bitwise.scala 71:12]
    node _T_255 = bits(_T_213, 7, 0) @[memory.scala 168:88]
    node _T_256 = cat(_T_254, _T_255) @[Cat.scala 30:58]
    node _T_257 = bits(_T_213, 31, 0) @[memory.scala 169:88]
    node _T_258 = mux(_T_249, _T_256, _T_257) @[memory.scala 168:44]
    node _T_259 = mux(_T_241, _T_248, _T_258) @[memory.scala 167:44]
    node _T_260 = mux(_T_233, _T_240, _T_259) @[memory.scala 166:44]
    node _T_261 = mux(_T_225, _T_232, _T_260) @[memory.scala 165:44]
    _T_206 <= _T_261 @[memory.scala 90:36]
    io.port[0].resp.bits.data <= _T_206 @[memory.scala 94:43]
    node _T_262 = eq(io.port[0].req.bits.fcn, UInt<1>("h01")) @[memory.scala 97:43]
    node _T_263 = and(io.port[0].req.valid, _T_262) @[memory.scala 97:33]
    when _T_263 : @[memory.scala 98:17]
      wire _T_267 : UInt<8>[4] @[memory.scala 123:45]
      _T_267 is invalid @[memory.scala 123:45]
      node _T_270 = bits(io.port[0].req.bits.data, 7, 0) @[memory.scala 124:64]
      node _T_271 = bits(io.port[0].req.bits.data, 7, 0) @[memory.scala 124:75]
      node _T_272 = bits(io.port[0].req.bits.data, 7, 0) @[memory.scala 124:86]
      node _T_273 = bits(io.port[0].req.bits.data, 7, 0) @[memory.scala 124:97]
      wire _T_281 : UInt<8>[4] @[memory.scala 124:60]
      _T_281 is invalid @[memory.scala 124:60]
      _T_281[0] <= _T_270 @[memory.scala 124:60]
      _T_281[1] <= _T_271 @[memory.scala 124:60]
      _T_281[2] <= _T_272 @[memory.scala 124:60]
      _T_281[3] <= _T_273 @[memory.scala 124:60]
      node _T_289 = bits(io.port[0].req.bits.data, 7, 0) @[memory.scala 125:64]
      node _T_290 = bits(io.port[0].req.bits.data, 15, 8) @[memory.scala 125:75]
      node _T_291 = bits(io.port[0].req.bits.data, 7, 0) @[memory.scala 125:86]
      node _T_292 = bits(io.port[0].req.bits.data, 15, 8) @[memory.scala 125:97]
      wire _T_300 : UInt<8>[4] @[memory.scala 125:60]
      _T_300 is invalid @[memory.scala 125:60]
      _T_300[0] <= _T_289 @[memory.scala 125:60]
      _T_300[1] <= _T_290 @[memory.scala 125:60]
      _T_300[2] <= _T_291 @[memory.scala 125:60]
      _T_300[3] <= _T_292 @[memory.scala 125:60]
      node _T_307 = bits(io.port[0].req.bits.data, 7, 0) @[memory.scala 126:64]
      node _T_308 = bits(io.port[0].req.bits.data, 15, 8) @[memory.scala 126:75]
      node _T_309 = bits(io.port[0].req.bits.data, 23, 16) @[memory.scala 126:86]
      node _T_310 = bits(io.port[0].req.bits.data, 31, 24) @[memory.scala 126:98]
      wire _T_318 : UInt<8>[4] @[memory.scala 126:60]
      _T_318 is invalid @[memory.scala 126:60]
      _T_318[0] <= _T_307 @[memory.scala 126:60]
      _T_318[1] <= _T_308 @[memory.scala 126:60]
      _T_318[2] <= _T_309 @[memory.scala 126:60]
      _T_318[3] <= _T_310 @[memory.scala 126:60]
      node _T_325 = mux(UInt<1>("h00"), _T_300, _T_318) @[memory.scala 125:44]
      node _T_332 = mux(UInt<1>("h00"), _T_281, _T_325) @[memory.scala 124:44]
      _T_267[0] <= _T_332[0] @[memory.scala 124:33]
      _T_267[1] <= _T_332[1] @[memory.scala 124:33]
      _T_267[2] <= _T_332[2] @[memory.scala 124:33]
      _T_267[3] <= _T_332[3] @[memory.scala 124:33]
      node _T_339 = eq(io.port[0].req.bits.typ, UInt<3>("h02")) @[memory.scala 154:49]
      node _T_340 = eq(io.port[0].req.bits.typ, UInt<3>("h06")) @[memory.scala 154:65]
      node _T_341 = or(_T_339, _T_340) @[memory.scala 154:58]
      node _T_343 = eq(io.port[0].req.bits.typ, UInt<3>("h01")) @[memory.scala 155:49]
      node _T_344 = eq(io.port[0].req.bits.typ, UInt<3>("h05")) @[memory.scala 155:65]
      node _T_345 = or(_T_343, _T_344) @[memory.scala 155:58]
      node _T_348 = mux(_T_345, UInt<4>("h01"), UInt<4>("h0f")) @[memory.scala 155:44]
      node _T_349 = mux(_T_341, UInt<4>("h03"), _T_348) @[memory.scala 154:44]
      node _T_350 = dshl(_T_349, _T_193) @[memory.scala 101:59]
      node _T_351 = bits(_T_350, 3, 0) @[memory.scala 101:77]
      node _T_352 = bits(_T_351, 0, 0) @[memory.scala 101:84]
      node _T_353 = bits(_T_351, 1, 1) @[memory.scala 101:84]
      node _T_354 = bits(_T_351, 2, 2) @[memory.scala 101:84]
      node _T_355 = bits(_T_351, 3, 3) @[memory.scala 101:84]
      node _T_356 = bits(_T_199, 12, 0)
      write mport _T_357 = chipMem[_T_356], clock
      when _T_352 :
        _T_357[0] <= _T_267[0]
        skip
      when _T_353 :
        _T_357[1] <= _T_267[1]
        skip
      when _T_354 :
        _T_357[2] <= _T_267[2]
        skip
      when _T_355 :
        _T_357[3] <= _T_267[3]
        skip
      skip @[memory.scala 98:17]
    node _T_359 = eq(io.port[0].req.bits.fcn, UInt<1>("h00")) @[memory.scala 107:48]
    node _T_360 = and(io.port[0].req.valid, _T_359) @[memory.scala 107:38]
    node _T_362 = eq(_T_263, UInt<1>("h00")) @[memory.scala 98:17]
    node _T_363 = and(_T_362, _T_360) @[memory.scala 108:17]
    when _T_363 : @[memory.scala 108:17]
      _T_197 <= _T_199 @[memory.scala 109:37]
      skip @[memory.scala 108:17]
    reg _T_364 : UInt<1>, clock @[memory.scala 62:45]
    _T_364 <= io.port[1].req.valid @[memory.scala 62:45]
    io.port[1].resp.valid <= _T_364 @[memory.scala 62:39]
    io.port[1].req.ready <= UInt<1>("h01") @[memory.scala 64:38]
    node _T_366 = bits(io.port[1].req.bits.addr, 1, 0) @[memory.scala 71:62]
    node _T_368 = cat(_T_366, UInt<3>("h00")) @[Cat.scala 30:58]
    reg _T_370 : UInt, clock @[memory.scala 75:37]
    node _T_372 = dshr(io.port[1].req.bits.addr, UInt<2>("h02")) @[memory.scala 77:44]
    wire _T_376 : UInt<8>[4] @[memory.scala 78:39]
    _T_376 is invalid @[memory.scala 78:39]
    wire _T_379 : UInt @[memory.scala 79:39]
    _T_379 is invalid @[memory.scala 79:39]
    node _T_380 = bits(_T_372, 12, 0)
    read mport _T_381 = chipMem[_T_380], clock
    _T_376[0] <= _T_381[0] @[memory.scala 88:36]
    _T_376[1] <= _T_381[1] @[memory.scala 88:36]
    _T_376[2] <= _T_381[2] @[memory.scala 88:36]
    _T_376[3] <= _T_381[3] @[memory.scala 88:36]
    node _T_383 = cat(_T_376[1], _T_376[0]) @[memory.scala 90:62]
    node _T_384 = cat(_T_376[3], _T_376[2]) @[memory.scala 90:62]
    node _T_385 = cat(_T_384, _T_383) @[memory.scala 90:62]
    node _T_386 = dshr(_T_385, _T_368) @[memory.scala 90:69]
    node _T_387 = eq(io.port[1].req.bits.typ, UInt<3>("h02")) @[memory.scala 165:49]
    node _T_388 = bits(_T_386, 15, 15) @[memory.scala 165:76]
    node _T_389 = bits(_T_388, 0, 0) @[Bitwise.scala 71:15]
    node _T_392 = mux(_T_389, UInt<16>("h0ffff"), UInt<16>("h00")) @[Bitwise.scala 71:12]
    node _T_393 = bits(_T_386, 15, 0) @[memory.scala 165:88]
    node _T_394 = cat(_T_392, _T_393) @[Cat.scala 30:58]
    node _T_395 = eq(io.port[1].req.bits.typ, UInt<3>("h06")) @[memory.scala 166:49]
    node _T_400 = mux(UInt<1>("h00"), UInt<16>("h0ffff"), UInt<16>("h00")) @[Bitwise.scala 71:12]
    node _T_401 = bits(_T_386, 15, 0) @[memory.scala 166:88]
    node _T_402 = cat(_T_400, _T_401) @[Cat.scala 30:58]
    node _T_403 = eq(io.port[1].req.bits.typ, UInt<3>("h01")) @[memory.scala 167:49]
    node _T_404 = bits(_T_386, 7, 7) @[memory.scala 167:76]
    node _T_405 = bits(_T_404, 0, 0) @[Bitwise.scala 71:15]
    node _T_408 = mux(_T_405, UInt<24>("h0ffffff"), UInt<24>("h00")) @[Bitwise.scala 71:12]
    node _T_409 = bits(_T_386, 7, 0) @[memory.scala 167:88]
    node _T_410 = cat(_T_408, _T_409) @[Cat.scala 30:58]
    node _T_411 = eq(io.port[1].req.bits.typ, UInt<3>("h05")) @[memory.scala 168:49]
    node _T_416 = mux(UInt<1>("h00"), UInt<24>("h0ffffff"), UInt<24>("h00")) @[Bitwise.scala 71:12]
    node _T_417 = bits(_T_386, 7, 0) @[memory.scala 168:88]
    node _T_418 = cat(_T_416, _T_417) @[Cat.scala 30:58]
    node _T_419 = bits(_T_386, 31, 0) @[memory.scala 169:88]
    node _T_420 = mux(_T_411, _T_418, _T_419) @[memory.scala 168:44]
    node _T_421 = mux(_T_403, _T_410, _T_420) @[memory.scala 167:44]
    node _T_422 = mux(_T_395, _T_402, _T_421) @[memory.scala 166:44]
    node _T_423 = mux(_T_387, _T_394, _T_422) @[memory.scala 165:44]
    _T_379 <= _T_423 @[memory.scala 90:36]
    io.port[1].resp.bits.data <= _T_379 @[memory.scala 94:43]
    node _T_424 = eq(io.port[1].req.bits.fcn, UInt<1>("h01")) @[memory.scala 97:43]
    node _T_425 = and(io.port[1].req.valid, _T_424) @[memory.scala 97:33]
    when _T_425 : @[memory.scala 98:17]
      wire _T_429 : UInt<8>[4] @[memory.scala 123:45]
      _T_429 is invalid @[memory.scala 123:45]
      node _T_432 = bits(io.port[1].req.bits.data, 7, 0) @[memory.scala 124:64]
      node _T_433 = bits(io.port[1].req.bits.data, 7, 0) @[memory.scala 124:75]
      node _T_434 = bits(io.port[1].req.bits.data, 7, 0) @[memory.scala 124:86]
      node _T_435 = bits(io.port[1].req.bits.data, 7, 0) @[memory.scala 124:97]
      wire _T_443 : UInt<8>[4] @[memory.scala 124:60]
      _T_443 is invalid @[memory.scala 124:60]
      _T_443[0] <= _T_432 @[memory.scala 124:60]
      _T_443[1] <= _T_433 @[memory.scala 124:60]
      _T_443[2] <= _T_434 @[memory.scala 124:60]
      _T_443[3] <= _T_435 @[memory.scala 124:60]
      node _T_451 = bits(io.port[1].req.bits.data, 7, 0) @[memory.scala 125:64]
      node _T_452 = bits(io.port[1].req.bits.data, 15, 8) @[memory.scala 125:75]
      node _T_453 = bits(io.port[1].req.bits.data, 7, 0) @[memory.scala 125:86]
      node _T_454 = bits(io.port[1].req.bits.data, 15, 8) @[memory.scala 125:97]
      wire _T_462 : UInt<8>[4] @[memory.scala 125:60]
      _T_462 is invalid @[memory.scala 125:60]
      _T_462[0] <= _T_451 @[memory.scala 125:60]
      _T_462[1] <= _T_452 @[memory.scala 125:60]
      _T_462[2] <= _T_453 @[memory.scala 125:60]
      _T_462[3] <= _T_454 @[memory.scala 125:60]
      node _T_469 = bits(io.port[1].req.bits.data, 7, 0) @[memory.scala 126:64]
      node _T_470 = bits(io.port[1].req.bits.data, 15, 8) @[memory.scala 126:75]
      node _T_471 = bits(io.port[1].req.bits.data, 23, 16) @[memory.scala 126:86]
      node _T_472 = bits(io.port[1].req.bits.data, 31, 24) @[memory.scala 126:98]
      wire _T_480 : UInt<8>[4] @[memory.scala 126:60]
      _T_480 is invalid @[memory.scala 126:60]
      _T_480[0] <= _T_469 @[memory.scala 126:60]
      _T_480[1] <= _T_470 @[memory.scala 126:60]
      _T_480[2] <= _T_471 @[memory.scala 126:60]
      _T_480[3] <= _T_472 @[memory.scala 126:60]
      node _T_487 = mux(UInt<1>("h00"), _T_462, _T_480) @[memory.scala 125:44]
      node _T_494 = mux(UInt<1>("h00"), _T_443, _T_487) @[memory.scala 124:44]
      _T_429[0] <= _T_494[0] @[memory.scala 124:33]
      _T_429[1] <= _T_494[1] @[memory.scala 124:33]
      _T_429[2] <= _T_494[2] @[memory.scala 124:33]
      _T_429[3] <= _T_494[3] @[memory.scala 124:33]
      node _T_501 = eq(io.port[1].req.bits.typ, UInt<3>("h02")) @[memory.scala 154:49]
      node _T_502 = eq(io.port[1].req.bits.typ, UInt<3>("h06")) @[memory.scala 154:65]
      node _T_503 = or(_T_501, _T_502) @[memory.scala 154:58]
      node _T_505 = eq(io.port[1].req.bits.typ, UInt<3>("h01")) @[memory.scala 155:49]
      node _T_506 = eq(io.port[1].req.bits.typ, UInt<3>("h05")) @[memory.scala 155:65]
      node _T_507 = or(_T_505, _T_506) @[memory.scala 155:58]
      node _T_510 = mux(_T_507, UInt<4>("h01"), UInt<4>("h0f")) @[memory.scala 155:44]
      node _T_511 = mux(_T_503, UInt<4>("h03"), _T_510) @[memory.scala 154:44]
      node _T_512 = dshl(_T_511, _T_366) @[memory.scala 101:59]
      node _T_513 = bits(_T_512, 3, 0) @[memory.scala 101:77]
      node _T_514 = bits(_T_513, 0, 0) @[memory.scala 101:84]
      node _T_515 = bits(_T_513, 1, 1) @[memory.scala 101:84]
      node _T_516 = bits(_T_513, 2, 2) @[memory.scala 101:84]
      node _T_517 = bits(_T_513, 3, 3) @[memory.scala 101:84]
      node _T_518 = bits(_T_372, 12, 0)
      write mport _T_519 = chipMem[_T_518], clock
      when _T_514 :
        _T_519[0] <= _T_429[0]
        skip
      when _T_515 :
        _T_519[1] <= _T_429[1]
        skip
      when _T_516 :
        _T_519[2] <= _T_429[2]
        skip
      when _T_517 :
        _T_519[3] <= _T_429[3]
        skip
      skip @[memory.scala 98:17]
    node _T_521 = eq(io.port[1].req.bits.fcn, UInt<1>("h00")) @[memory.scala 107:48]
    node _T_522 = and(io.port[1].req.valid, _T_521) @[memory.scala 107:38]
    node _T_524 = eq(_T_425, UInt<1>("h00")) @[memory.scala 98:17]
    node _T_525 = and(_T_524, _T_522) @[memory.scala 108:17]
    when _T_525 : @[memory.scala 108:17]
      _T_370 <= _T_372 @[memory.scala 109:37]
      skip @[memory.scala 108:17]
    
